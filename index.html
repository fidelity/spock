<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Home | spock</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://fidelity.github.io/spock/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Home | spock"><meta data-react-helmet="true" name="description" content="Managing complex configurations any other way would be highly illogical..."><meta data-react-helmet="true" property="og:description" content="Managing complex configurations any other way would be highly illogical..."><link data-react-helmet="true" rel="shortcut icon" href="/spock/img/logo_small.png"><link data-react-helmet="true" rel="canonical" href="https://fidelity.github.io/spock/"><link data-react-helmet="true" rel="alternate" href="https://fidelity.github.io/spock/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://fidelity.github.io/spock/" hreflang="x-default"><script data-react-helmet="true">function maybeInsertBanner(){window.__DOCUSAURUS_INSERT_BASEURL_BANNER&&insertBanner()}function insertBanner(){var n=document.getElementById("docusaurus-base-url-issue-banner-container");if(n){n.innerHTML='\n<div id="docusaurus-base-url-issue-banner" style="border: thick solid red; background-color: rgb(255, 230, 179); margin: 20px; padding: 20px; font-size: 20px;">\n   <p style="font-weight: bold; font-size: 30px;">Your Docusaurus site did not load properly.</p>\n   <p>A very common reason is a wrong site <a href="https://docusaurus.io/docs/docusaurus.config.js/#baseurl" style="font-weight: bold;">baseUrl configuration</a>.</p>\n   <p>Current configured baseUrl = <span style="font-weight: bold; color: red;">/spock/</span> </p>\n   <p>We suggest trying baseUrl = <span id="docusaurus-base-url-issue-banner-suggestion-container" style="font-weight: bold; color: green;"></span></p>\n</div>\n';var e=document.getElementById("docusaurus-base-url-issue-banner-suggestion-container"),s=window.location.pathname,r="/"===s.substr(-1)?s:s+"/";e.innerHTML=r}}window.__DOCUSAURUS_INSERT_BASEURL_BANNER=!0,document.addEventListener("DOMContentLoaded",maybeInsertBanner)</script><link rel="stylesheet" href="/spock/assets/css/styles.986ad96e.css">
<link rel="preload" href="/spock/assets/js/runtime~main.a89c3aa4.js" as="script">
<link rel="preload" href="/spock/assets/js/main.427cbb69.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div id="docusaurus-base-url-issue-banner-container"></div><div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">If you find spock useful give us a ‚≠êÔ∏è on our <a target="_blank" rel="noopener noreferrer" href="https://github.com/fidelity/spock">Github</a> repo</div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor"><path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z"></path></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/spock/"><img src="/spock/img/logo_small.png" alt="Spock Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/spock/img/logo_small.png" alt="Spock Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">spock</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/spock/">Docs</a><a class="navbar__item navbar__link" href="/spock/api">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/fidelity/spock" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/spock/">Home</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/spock/Installation">Installation</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/spock/Quick-Start">Quick Start</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/spock/ArgParser-Replacement">argparse Replacement</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Basics</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Advanced Usage</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Addon Functionality</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/spock/contributing">Contributing</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Home</h1></header><header><h1 align="center"><a href="https://fidelity.github.io/spock/" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/fidelity/spock/master/resources/images/logo.png"></a><h6 align="center">Managing complex configurations any other way would be highly illogical...</h6></h1></header><p align="center"><a href="https://opensource.org/licenses/Apache-2.0" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/License-Apache%202.0-9cf"></a><a href="https://bestpractices.coreinfrastructure.org/projects/5551" target="_blank" rel="noopener noreferrer"><img src="https://bestpractices.coreinfrastructure.org/projects/5551/badge"></a><a><img src="https://github.com/fidelity/spock/workflows/pytest/badge.svg?branch=master"></a><a href="https://coveralls.io/github/fidelity/spock?branch=master" target="_blank" rel="noopener noreferrer"><img src="https://coveralls.io/repos/github/fidelity/spock/badge.svg?branch=master"></a><a><img src="https://github.com/fidelity/spock/workflows/docs/badge.svg"></a></p><p align="center"><a><img src="https://img.shields.io/badge/python-3.6+-informational.svg"></a><a href="https://github.com/psf/black" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/code%20style-black-000000.svg"></a><a href="https://badge.fury.io/py/spock-config" target="_blank" rel="noopener noreferrer"><img src="https://badge.fury.io/py/spock-config.svg"></a><a href="https://pepy.tech/project/spock-config" target="_blank" rel="noopener noreferrer"><img src="https://static.pepy.tech/personalized-badge/spock-config?period=total&amp;units=international_system&amp;left_color=grey&amp;right_color=orange&amp;left_text=Downloads"></a></p><h3 align="center"><a href="https://fidelity.github.io/spock/Quick-Start" target="_blank" rel="noopener noreferrer">Quick Start</a><span> ¬∑ </span><a href="https://fidelity.github.io/spock/" target="_blank" rel="noopener noreferrer">Documentation</a><span> ¬∑ </span><a href="https://github.com/fidelity/spock/blob/master/examples" target="_blank" rel="noopener noreferrer">Examples</a><span> ¬∑ </span><a href="https://github.com/fidelity/spock/releases" target="_blank" rel="noopener noreferrer">Releases</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="about"></a>About<a class="hash-link" href="#about" title="Direct link to heading">#</a></h2><p><code>spock</code> is a framework that helps users easily define, manage, and use complex parameter configurations within Python
applications. It lets you focus on the code you need to write instead of re-implementing boilerplate code such as
creating ArgParsers, reading configuration files, handling dependencies, implementing type validation,
maintaining traceability, etc.</p><p><code>spock</code> configurations are normal python classes that are decorated with <code>@spock</code>. It supports
inheritance, dynamic class dependencies, loading/saving configurations from/to multiple markdown formats, automatically
generating CLI arguments, and hierarchical configuration by composition.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="-why-you-should-use-spock-"></a>üí• Why You Should Use Spock üí•<a class="hash-link" href="#-why-you-should-use-spock-" title="Direct link to heading">#</a></h2><ul><li>Simple organized parameter definitions (i.e. a single line)</li><li>Type checked (static-eqsue) &amp; frozen parameters (i.e. fail early during long ML training runs)</li><li>Complex parameter dependencies made simple (i.e. <code>@spock</code> class with a parameter that is an Enum of other
<code>@spock</code> classes)</li><li>Fully serializable parameter state(s) (i.e. exactly reproduce prior runtime parameter configurations)</li><li>Automatic type checked CLI generation w/o argparser boilerplate (i.e click and/or typer for free!)</li><li>Easily maintain parity between CLIs and Python APIs (i.e. single line changes between CLI and Python API definitions)</li><li>Unified hyper-parameter definitions and interface (i.e. don&#x27;t write different definitions for Ax or Optuna)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="key-features"></a>Key Features<a class="hash-link" href="#key-features" title="Direct link to heading">#</a></h2><ul><li><a href="https://fidelity.github.io/spock/basics/Define" target="_blank" rel="noopener noreferrer">Simple Declaration</a>: Type checked parameters are
defined within a <code>@spock</code> decorated class. Supports required/optional and automatic defaults.</li><li>Easily Managed Parameter Groups: Each class automatically generates its own object within a single namespace.</li><li><a href="https://fidelity.github.io/spock/advanced_features/Inheritance" target="_blank" rel="noopener noreferrer">Parameter Inheritance</a>: Classes support
inheritance (w/ lazy evaluation of inheritance/dependencies) allowing for complex configurations derived from
a common base set of parameters.</li><li><a href="https://fidelity.github.io/spock/advanced_features/Advanced-Types/" target="_blank" rel="noopener noreferrer">Complex Types</a>: Nested Lists/Tuples,
List/Tuples of Enum of <code>@spock</code> classes, List of repeated <code>@spock</code> classes</li><li>Multiple Configuration File Types: Configurations are specified from YAML, TOML, or JSON files.</li><li><a href="https://fidelity.github.io/spock/advanced_features/Composition/" target="_blank" rel="noopener noreferrer">Hierarchical Configuration</a>: Compose from
multiple configuration files via simple include statements.</li><li><a href="https://fidelity.github.io/spock/advanced_features/Command-Line-Overrides/" target="_blank" rel="noopener noreferrer">Command-Line Overrides</a>: Quickly
experiment by overriding a value with automatically generated command line arguments.</li><li>Immutable: All classes are <em>frozen</em> preventing any misuse or accidental overwrites (to the extent they can be in
Python).</li><li><a href="https://fidelity.github.io/spock/basics/Saving" target="_blank" rel="noopener noreferrer">Tractability and Reproducibility</a>: Save runtime
parameter configuration to YAML, TOML, or JSON with a single chained command (with extra runtime info such as Git info,
Python version, machine FQDN, etc). The saved markdown file can be used as the configuration input to reproduce
prior runtime configurations.</li><li><a href="https://fidelity.github.io/spock/addons/tuner/About" target="_blank" rel="noopener noreferrer">Hyper-Parameter Tuner Addon</a>: Provides a unified
interface for defining hyper-parameters (via <code>@spockTuner</code> decorator) that supports various tuning/algorithm
backends (currently: Optuna, Ax)</li><li><a href="https://fidelity.github.io/spock/addons/S3" target="_blank" rel="noopener noreferrer">S3 Addon</a>: Automatically detects <code>s3://</code> URI(s) and handles loading
and saving <code>spock</code> configuration files when an active <code>boto3.Session</code> is passed in (plus any additional
<code>S3Transfer</code> configurations)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="quick-install"></a>Quick Install<a class="hash-link" href="#quick-install" title="Direct link to heading">#</a></h2><p>The basic install and <code>[s3]</code> extension require Python 3.6+ while the <code>[tune]</code> extension requires Python 3.7+</p><table><thead><tr><th>Base</th><th>w/ S3 Extension</th><th>w/ Hyper-Parameter Tuner</th></tr></thead><tbody><tr><td><code>pip install spock-config</code></td><td><code>pip install spock-config[s3]</code></td><td><code>pip install spock-config[tune]</code></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="newsreleases"></a>News/Releases<a class="hash-link" href="#newsreleases" title="Direct link to heading">#</a></h2><p>See <a href="https://github.com/fidelity/spock/releases" target="_blank" rel="noopener noreferrer">Releases</a> for more information.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="features"></a>Recent Changes<a class="hash-link" href="#features" title="Direct link to heading">#</a></h2><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="march-17th-2022"></a>March 17th, 2022<a class="hash-link" href="#march-17th-2022" title="Direct link to heading">#</a></h4><ul><li>Added support for <code>typing.Callable</code> types (includes advanced types such as <code>List[List[Callable]]</code>)</li><li>Added support for <code>typing.Dict</code> types with type checking for types of both keys and values (includes advanced types
such as <code>Dict[str, Tuple[Callable, Callable]]</code>)</li><li>Added support for post init hooks that allow for validation on parameters defined within <code>@spock</code> decorated classes.
Additionally, added some common validation check to utils (within, greater than, less than, etc.)</li><li>Updated unit tests to support Python 3.10</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="january-26th-2022"></a>January 26th, 2022<a class="hash-link" href="#january-26th-2022" title="Direct link to heading">#</a></h4><ul><li>Added <code>evolve</code> support to the underlying <code>SpockBuilder</code> class. This provides functionality similar to the underlying
attrs library (<a href="https://www.attrs.org/en/stable/api.html#attrs.evolve" target="_blank" rel="noopener noreferrer">attrs.evolve</a>). <code>evolve()</code> creates a new
<code>Spockspace</code> instance based on differences between the underlying declared state and any passed in instantiated
<code>@spock</code> decorated classes.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_y2LR" id="january-18th-2022"></a>January 18th, 2022<a class="hash-link" href="#january-18th-2022" title="Direct link to heading">#</a></h4><ul><li>Support for lazy evaluation: (1) inherited classes do not need to be <code>@spock</code> decorated, (2) dependencies/references
between <code>spock</code> classes can be lazily handled thus preventing the need for every <code>@spock</code> decorated classes to be
passed into <code>*args</code> within the main <code>SpockBuilder</code> API</li><li>Updated main API interface for better top-level imports (backwards compatible): <code>ConfigArgBuilder</code>-&gt;<code>SpockBuilder</code></li><li>Added stubs to the underlying decorator that should help with type hinting in VSCode (pylance/pyright)</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="original-implementation"></a>Original Implementation<a class="hash-link" href="#original-implementation" title="Direct link to heading">#</a></h2><p><code>spock</code> was originally developed by the <strong>Artificial Intelligence Center of Excellence at Fidelity Investments</strong> by <a href="https://github.com/ncilfone" target="_blank" rel="noopener noreferrer">Nicholas Cilfone</a> and <a href="https://github.com/sidnarayanan" target="_blank" rel="noopener noreferrer">Siddharth Narayanan</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/fidelity/spock/edit/master/website/docs/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/spock/Installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installation ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#about" class="table-of-contents__link">About</a></li><li><a href="#-why-you-should-use-spock-" class="table-of-contents__link">üí• Why You Should Use Spock üí•</a></li><li><a href="#key-features" class="table-of-contents__link">Key Features</a></li><li><a href="#quick-install" class="table-of-contents__link">Quick Install</a></li><li><a href="#newsreleases" class="table-of-contents__link">News/Releases</a></li><li><a href="#original-implementation" class="table-of-contents__link">Original Implementation</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/spock/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/spock/Quick-Start">Quick Start</a></li><li class="footer__item"><a href="https://github.com/fidelity/spock/blob/master/examples" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Examples<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/spock/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Maintainers</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ncilfone" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ncilfone<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Open Source @ Fidelity</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/fidelity" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© <a href="mailto: opensource@fidelity.com">FMR LLC</a>. Built with <a href="https://docusaurus.io/">Docusaurus</a></div></div></div></footer></div>
<script src="/spock/assets/js/runtime~main.a89c3aa4.js"></script>
<script src="/spock/assets/js/main.427cbb69.js"></script>
</body>
</html>